import { door } from './door';

describe('危險車庫門', () => {
  it('沒有事件時應保持不動', () => {
    expect(door('...')).toBe('000');
  });

  it('應打開門並在位置 5 停止', () => {
    expect(door('P......')).toBe('1234555');
  });

  it('應先開門然後關門', () => {
    expect(door('P....P.')).toBe('1234543');
  });

  it('打開時應能暫停和繼續', () => {
    expect(door('P.P.P')).toBe('12223');
  });

  it('關閉時應能暫停和繼續', () => {
    expect(door('P....PP.P')).toBe('123454443');
  });

  it('打開時應能處理障礙物', () => {
    expect(door('P..O..')).toBe('123210');
  });

  it('關閉時應能處理障礙物', () => {
    expect(door('P....PO..')).toBe('123454555');
  });

  it('應能處理多次暫停和繼續', () => {
    expect(door('P.P.P.P.P.')).toBe('1222344455');
  });

  it('應通過描述中的範例', () => {
    expect(door('..P...O.....')).toBe('001234321000');
  });

  it('門完全打開且不動時應忽略障礙物', () => {
    expect(door('P....O.')).toBe('1234555');
  });

  it('門完全關閉且不動時應忽略障礙物', () => {
    expect(door('O')).toBe('0');
  });

  it('開始時應能處理快速按按鈕', () => {
    expect(door('PP')).toBe('11');
  });
});
